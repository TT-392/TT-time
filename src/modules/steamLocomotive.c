#include "../display_print.h"

void sl_static(int x, int y, uint16_t color_text, uint16_t color_bg) {
    char* train[6] = {
    "      ++      +------", 
    "      ||      |+-+ | ",
    "    /---------|| | | ",
    "   + ========  +-+ | ",
    "  _|--O========O~\\-+ ",
    " //// \\_/      \\_/   "
    };


    
    for (int i = 0; i < 6; i++) {
        drawString (x, y + i*16, train[i], color_text, color_bg);
    }
}

void sl (int y, int time, uint16_t color_text, uint16_t color_bg) {
    char* trains[6][6] = {{
    "      ++      +------ ", 
    "      ||      |+-+ | ",
    "    /---------|| | | ",
    "   + ========  +-+ | ",
    "  _|--/~O========O-+ ",
    " //// \\_/      \\_/   "
    },{
    "      ++      +------ ", 
    "      ||      |+-+ | ",
    "    /---------|| | | ",
    "   + ========  +-+ | ",
    "  _|--/O========O\\-+ ",
    " //// \\_/      \\_/   "
    },{
    "      ++      +------ ", 
    "      ||      |+-+ | ",
    "    /---------|| | | ",
    "   + ========  +-+ | ",
    "  _|--O========O~\\-+ ",
    " //// \\_/      \\_/   "
    },{
    "      ++      +------ ", 
    "      ||      |+-+ | ",
    "    /---------|| | | ",
    "   + ========  +-+ | ",
    "  _|--/~\\------/~\\-+ ",
    " //// 0========0_/   "
    },{
    "      ++      +------ ", 
    "      ||      |+-+ | ",
    "    /---------|| | | ",
    "   + ========  +-+ | ",
    "  _|--/~\\------/~\\-+ ",
    " //// \\0========0/   "
    },{
    "      ++      +------ ", 
    "      ||      |+-+ | ",
    "    /---------|| | | ",
    "   + ========  +-+ | ",
    "  _|--/~\\------/~\\-+ ",
    " //// \\_0========0   "
    }};




    
    for (int i = 0; i < 6; i++) {
        int x = (30-time)*8;
        int charY = y + i*16;
        char* string = trains[(time/2)%6][i];
        _Bool terminated = 0;
        int j = 1;

        while (!terminated) {
            if (string[j] == '\0') {
                terminated = 1;
            } else {
                if ((x + j*8) < 240 && (x + j*8) >= 0) {
                    if ((i > 3 && j > 6) || string[j-1] != string[j]) {
                        drawChar (x + j*8, charY, string[j], color_text, color_bg);
                    }
                }
                j++;
            }
        }
    }
}
